#include <iostream>
#include <array>
#include <algorithm>

void calculateMaxDepths(int frameHeight);

// These arrays store the accumulated occurrence rate of each PU size, starting with 64x64 and accumulating in direction of 4x4
// 1664p
float Res1664_PUs_Cumulative_4x4[26] = {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1};
float Res1664_PUs_Cumulative_8x8[26] = {0.999113360789027,0.99514568898473,0.988520529906673,0.97959094845871,0.972721538284785,0.96396594845871,0.954437946302318,0.93960822610294,0.930665940504809,0.918600974794966,0.906025854602659,0.889480190363405,0.865982815151301,0.857315381080316,0.879374756964084,0.901632428061369,0.912272430005655,0.921921176824096,0.931264250742365,0.940788275947398,0.947136595022625,0.958584691388574,0.971255810767816,0.981321806066176,0.992168499010181,0.99911805892758};
float Res1664_PUs_Cumulative_16x16[26] = {0.987969280260181,0.964545478648191,0.939111107183257,0.91033035209276,0.890646652290724,0.869495015554298,0.843882123161764,0.805007865526017,0.779505444004526,0.75265262655543,0.731010499151584,0.692816742081448,0.639599830316742,0.624741498161764,0.667742947539593,0.713598964225113,0.734520821549773,0.748125972143666,0.771635499151584,0.797401725113122,0.805693668693439,0.829431207579185,0.865719121182126,0.902232395361991,0.944625371182127,0.984163863068812};
float Res1664_PUs_Cumulative_32x32[26] = {0.918670460972851,0.842945772058824,0.791627191742081,0.739659926470588,0.711570277149321,0.680820489253393,0.624901018099547,0.57100360576923,0.52547016402715,0.488975890837104,0.465462386877828,0.417913956447964,0.358319782239819,0.354387019230769,0.391146422511312,0.446721224547511,0.477073317307692,0.487802248303168,0.515844174208145,0.547359304298642,0.549780825791855,0.56046733597285,0.605127615950226,0.675061863687783,0.760476173642534,0.871861126526082};
float Res1664_PUs_Cumulative_64x64[26] = {0.503662330316742,0.448140554298643,0.426923076923077,0.38631221719457,0.372426470588235,0.334855769230769,0.26327064479638,0.237259615384615,0.197242647058824,0.165844174208145,0.149441459276018,0.125742364253394,0.1055217760181,0.106865101809955,0.125049490950226,0.155620757918552,0.187139423076923,0.196556843891403,0.213595871040724,0.225572680995475,0.227679581447964,0.215547228506787,0.224519230769231,0.268827771493213,0.322921380090498,0.350291342952275};

int Res1664_MAX_DEPTH_PER_ROW[26] = {4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4};

// 2048p
float Res2048_PUs_Cumulative_4x4[32] = {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1};
float Res2048_PUs_Cumulative_8x8[32] = {0.999113,0.996074,0.991488,0.984735,0.977932,0.972467,0.965381,0.95843,0.94767,0.93686,0.93003,0.92027,0.91016,0.89903,0.88279,0.86403,0.8567,0.8714,0.89231,0.90593,0.91344,0.92131,0.92878,0.93682,0.94304,0.94857,0.95815,0.96862,0.977164,0.985518,0.994044,0.999114};
float Res2048_PUs_Cumulative_16x16[32] = {0.987969,0.96902,0.94963,0.9266,0.90522,0.89002,0.87301,0.85463,0.82628,0.79728,0.77786,0.75583,0.73851,0.71566,0.67702,0.63567,0.62332,0.65222,0.69397,0.72273,0.73618,0.74704,0.76451,0.78751,0.80109,0.80798,0.82837,0.85735,0.88654,0.9181,0.95293,0.98416};
float Res2048_PUs_Cumulative_32x32[32] = {0.91867,0.8544,0.81126,0.76857,0.73134,0.71083,0.68753,0.64611,0.59935,0.55858,0.52273,0.49264,0.47389,0.44653,0.3987,0.35512,0.35253,0.37728,0.42042,0.46018,0.47877,0.48682,0.50683,0.5357,0.55059,0.54982,0.55962,0.59228,0.64362,0.70603,0.77953,0.87186};
float Res2048_PUs_Cumulative_64x64[32] = {0.50366,0.45349,0.43664,0.40973,0.3812,0.37192,0.34459,0.286,0.2483,0.22893,0.19459,0.16871,0.15472,0.13889,0.11849,0.10464,0.10587,0.11836,0.1395,0.16726,0.18928,0.19591,0.2089,0.22123,0.22802,0.22612,0.2158,0.21926,0.24707,0.29056,0.33146,0.35029};

int Res2048_MAX_DEPTH_PER_ROW[32] = {4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4};

// These variables are assigned according to the video resolution
float *PUs_Cumulative_4x4;
float *PUs_Cumulative_8x8;
float *PUs_Cumulative_16x16;
float *PUs_Cumulative_32x32;
float *PUs_Cumulative_64x64;

int *MAX_DEPTH_PER_ROW;